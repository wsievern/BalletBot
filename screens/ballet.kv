#:kivy 2.0
#: import navigation_screen_manager screens.navigation_screen_manager
#: import piece_selection screens.piece_selection.piece_selection
#: import playback screens.playback.playback
#: import tap_tempo screens.tap_tempo.tap_tempo
#: import app_state state.app_state

MyScreenManager:

<MyScreenManager@NavigationScreenManager>:
    Screen:
        name: "class_overview"
        id: class_overview
        ScrollView:
            size_hint: 1, 1
            do_scroll_x: False
            scroll_type: ['content']
            BoxLayout:
                #size_hint: 1, None
                #height: 3000
                #rows: 20
                orientation: 'vertical'
                spacing: 0
                Label:
                    text: "BARRE"
                    font_name: 'GillSans'
                    font_size: 55
                    background_color: (0, 0, 0, 1)
                    canvas.before:
                        Color:
                            rgba: self.background_color
                        Rectangle:
                            size: self.size
                            pos: self.pos
                Button:
                    text: 'PLIÉS'
                    font_name: 'GillSans'
                    #font_size: 40
                    #text_size: self.size
                    #halign: "left"
                    #valign: "middle"
                    #padding_x: 100
                    on_press: root.push('plies')

                Button:
                    text: 'TENDUS FROM FIRST'
                    font_name: 'GillSans'
                    on_press: root.push('tendus_from_first')
                Button:
                    text: 'TENDUS FROM FIFTH'
                    font_name: 'GillSans'
                    on_press: root.push('tendus_from_fifth')
                Button:
                    text: 'SLOW DÉGAGÉ'
                    font_name: 'GillSans'
                    on_press: root.push('slow_degage')
                Button:
                    text: 'FAST DÉGAGÉ'
                    font_name: 'GillSans'
                    on_press: root.push('fast_degage')
                Button:
                    text: 'RON DE JAMBE'
                    font_name: 'GillSans'
                    on_press: root.push('ron_de_jambe')
                Button:
                    text: 'STRETCH'
                    font_name: 'GillSans'
                    on_press: root.push('stretch')
                Button:
                    text: 'FONDUE'
                    font_name: 'GillSans'
                    on_press: root.push('fondue')
                Button:
                    text: 'DÉVELOPPÉ'
                    font_name: 'GillSans'
                    on_press: root.push('developpe')
                Button:
                    text: 'FRAPPE'
                    font_name: 'GillSans'
                    on_press: root.push('frappe')
                Button:
                    text: 'GRANDE BATTEMENTS'
                    font_name: 'GillSans'
                    on_press: root.push('grande_battements')

                Label:
                    text: "CENTRE"
                    font_name: 'GillSans'
                    font_size: 55
                    background_color: (0, 0, 0, 1)
                    canvas.before:
                        Color:
                            rgba: self.background_color
                        Rectangle:
                            size: self.size
                            pos: self.pos
                Button:
                    text: 'ADAGIO'
                    font_name: 'GillSans'
                    on_press: root.push('adagio')
                Button:
                    text: 'TENDUS FROM FIFTH'
                    font_name: 'GillSans'
                    on_press: root.push('tendus_from_fifth_centre')
                Button:
                    text: 'PIROUETTE 1'
                    font_name: 'GillSans'
                    on_press: root.push('pirouette_1')
                Button:
                    text: 'PIROUETTE 2'
                    font_name: 'GillSans'
                    on_press: root.push('pirouette_2')
                Button:
                    text: 'SMALL JUMPS'
                    font_name: 'GillSans'
                    on_press: root.push('small_jumps')
                Button:
                    text: 'GRANDE ALLEGRO'
                    font_name: 'GillSans'
                    on_press: root.push('grande_allegro')
                Button:
                    text: 'PIQUE TURNS'
                    font_name: 'GillSans'
                    on_press: root.push('pique_turns')
                Button:
                    text: 'MENAGE/FOUETTÉ'
                    font_name: 'GillSans'
                    on_press: root.push('menage')
                Button:
                    text: 'REVERANCE'
                    font_name: 'GillSans'
                    on_press: root.push('reverance')

    Screen:
        name: "plies"
        #on_enter: print(root.ids)
        canvas.before:
            Color:
                rgba: (0, 0, 128, 1)
            Rectangle:
                pos:self.pos
                size:self.size
        FloatLayout:
            orientation: "vertical"

            ActionBar:
                pos_hint: {'top': 1}
                ActionView:
                    ActionPrevious:
                        title: "back"
                        on_release:
                            root.pop()
        FloatLayout:
            Label:
                text: "PLIES"
                font_name: 'GillSans'
                size_hint: .6, .05
                pos_hint: {"center_x":.5, "top":1}
            Button:
                id: plies_select_piece_title
                text: 'SELECT PIECE'
                font_name: 'GillSans'
                size_hint: .82, .1
                pos_hint: {"center_x":.5, "y":.8}
                font_size: 25
                on_press:
                    root.push('piece_selection')
            Label:
                id: plies_piece_info_label
                text:""
                size_hint:(.25, .125)
                pos_hint:{'center_x': .35, 'center_y': .7}
                font_size:25
                font_name:'GillSans'
        Playback:
            id: playback
        TapTempo:
            id: tap_tempo



    Screen:
        name: "tendus_from_first"
        BoxLayout:
            orientation: "vertical"
            ActionBar:
                ActionView:
                    ActionPrevious:
                        title: "back"
                        on_release:
                            root.pop()

    Screen:
        name: "tendus_from_fifth"
        BoxLayout:
            orientation: "vertical"
            ActionBar:
                ActionView:
                    ActionPrevious:
                        title: "back"
                        on_release:
                            root.pop()

    Screen:
        name: "slow_degage"
        BoxLayout:
            orientation: "vertical"
            ActionBar:
                ActionView:
                    ActionPrevious:
                        title: "back"
                        on_release:
                            root.pop()

    Screen:
        name: "fast_degage"
        BoxLayout:
            orientation: "vertical"
            ActionBar:
                ActionView:
                    ActionPrevious:
                        title: "back"
                        on_release:
                            root.pop()

    Screen:
        name: "ron_de_jambe"
        BoxLayout:
            orientation: "vertical"
            ActionBar:
                ActionView:
                    ActionPrevious:
                        title: "back"
                        on_release:
                            root.pop()

    Screen:
        name: "stretch"
        BoxLayout:
            orientation: "vertical"
            ActionBar:
                ActionView:
                    ActionPrevious:
                        title: "back"
                        on_release:
                            root.pop()

    Screen:
        name: "fondue"
        BoxLayout:
            orientation: "vertical"
            ActionBar:
                ActionView:
                    ActionPrevious:
                        title: "back"
                        on_release:
                            root.pop()

    Screen:
        name: "developpe"
        BoxLayout:
            orientation: "vertical"
            ActionBar:
                ActionView:
                    ActionPrevious:
                        title: "back"
                        on_release:
                            root.pop()

    Screen:
        name: "frappe"
        BoxLayout:
            orientation: "vertical"
            ActionBar:
                ActionView:
                    ActionPrevious:
                        title: "back"
                        on_release:
                            root.pop()

    Screen:
        name: "grande_battements"
        BoxLayout:
            orientation: "vertical"
            ActionBar:
                ActionView:
                    ActionPrevious:
                        title: "back"
                        on_release:
                            root.pop()

    Screen:
        name: "adagio"
        BoxLayout:
            orientation: "vertical"
            ActionBar:
                ActionView:
                    ActionPrevious:
                        title: "back"
                        on_release:
                            root.pop()
    Screen:
        name: "tendus_from_fifth_centre"
        BoxLayout:
            orientation: "vertical"
            ActionBar:
                ActionView:
                    ActionPrevious:
                        title: "back"
                        on_release:
                            root.pop()

    Screen:
        name: "pirouette_1"
        BoxLayout:
            orientation: "vertical"
            ActionBar:
                ActionView:
                    ActionPrevious:
                        title: "back"
                        on_release:
                            root.pop()

    Screen:
        name: "pirouette_2"
        BoxLayout:
            orientation: "vertical"
            ActionBar:
                ActionView:
                    ActionPrevious:
                        title: "back"
                        on_release:
                            root.pop()

    Screen:
        name: "small_jumps"
        BoxLayout:
            orientation: "vertical"
            ActionBar:
                ActionView:
                    ActionPrevious:
                        title: "back"
                        on_release:
                            root.pop()

    Screen:
        name: "grande_allegro"
        BoxLayout:
            orientation: "vertical"
            ActionBar:
                ActionView:
                    ActionPrevious:
                        title: "back"
                        on_release:
                            root.pop()

    Screen:
        name: "pique_turns"
        BoxLayout:
            orientation: "vertical"
            ActionBar:
                ActionView:
                    ActionPrevious:
                        title: "back"
                        on_release:
                            root.pop()
    Screen:
        name: "menage"
        BoxLayout:
            orientation: "vertical"
            ActionBar:
                ActionView:
                    ActionPrevious:
                        title: "back"
                        on_release:
                            root.pop()

    Screen:
        name: "reverance"
        BoxLayout:
            orientation: "vertical"
            ActionBar:
                ActionView:
                    ActionPrevious:
                        title: "back"
                        on_release:
                            root.pop()

    Screen:
        name: "piece_selection"
        on_enter: app.root.ids.piece_selection.populate_piece_list()
        BoxLayout:
            PieceSelection:
                id: piece_selection

